!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Tappable=t()}}(function(){return function t(e,o,i){function s(c,r){if(!o[c]){if(!e[c]){var h="function"==typeof require&&require;if(!r&&h)return h(c,!0);if(n)return n(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var a=o[c]={exports:{}};e[c][0].call(a.exports,function(t){var o=e[c][1][t];return s(o?o:t)},a,a.exports,t,e,o,i)}return o[c].exports}for(var n="function"==typeof require&&require,c=0;c<i.length;c++)s(i[c]);return s}({1:[function(t,e,o){"use strict";function i(t){return t?{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY}:{}}function s(t){return{touches:Array.prototype.map.call(t,function(t){return{identifier:t.identifier,pageX:t.pageX,pageY:t.pageY}}),center:{x:(t[0].pageX+t[1].pageX)/2,y:(t[0].pageY+t[1].pageY)/2},angle:Math.atan()*(t[1].pageY-t[0].pageY)/(t[1].pageX-t[0].pageX)*180/Math.PI,distance:Math.sqrt(Math.pow(Math.abs(t[1].pageX-t[0].pageX),2)+Math.pow(Math.abs(t[1].pageY-t[0].pageY),2))}}var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},c=window.React;c.initializeTouchEvents(!0);var r={propTypes:{moveThreshold:c.PropTypes.number,activeDelay:c.PropTypes.number,pressDelay:c.PropTypes.number,pressMoveThreshold:c.PropTypes.number,preventDefault:c.PropTypes.bool,stopPropagation:c.PropTypes.bool,onTap:c.PropTypes.func,onPress:c.PropTypes.func,onTouchStart:c.PropTypes.func,onTouchMove:c.PropTypes.func,onTouchEnd:c.PropTypes.func,onMouseDown:c.PropTypes.func,onMouseUp:c.PropTypes.func,onMouseMove:c.PropTypes.func,onMouseOut:c.PropTypes.func,onPinchStart:c.PropTypes.func,onPinchMove:c.PropTypes.func,onPinchEnd:c.PropTypes.func},getDefaultProps:function(){return{activeDelay:0,moveThreshold:100,pressDelay:1e3,pressMoveThreshold:5}},getInitialState:function(){return{isActive:!1,touchActive:!1,pinchActive:!1}},componentWillUnmount:function(){this.cleanupScrollDetection(),this.cancelPressDetection(),this.clearActiveTimeout()},processEvent:function(t){this.props.preventDefault&&t.preventDefault(),this.props.stopPropagation&&t.stopPropagation()},onTouchStart:function(t){this.props.onTouchStart&&this.props.onTouchStart(t)===!1||(this.processEvent(t),window._blockMouseEvents=!0,1===t.touches.length?(this._initialTouch=this._lastTouch=i(t.touches[0]),this.initScrollDetection(),this.initPressDetection(t,this.endTouch),this._activeTimeout=setTimeout(this.makeActive,this.props.activeDelay)):(this.props.onPinchStart||this.props.onPinchMove||this.props.onPinchEnd)&&2===t.touches.length&&this.onPinchStart(t))},makeActive:function(){this.isMounted()&&(this.clearActiveTimeout(),this.setState({isActive:!0}))},clearActiveTimeout:function(){clearTimeout(this._activeTimeout),this._activeTimeout=!1},onPinchStart:function(t){this._initialTouch&&this.endTouch();var e=t.touches;this._initialPinch=s(e),this._initialPinch=n(this._initialPinch,{displacement:{x:0,y:0},displacementVelocity:{x:0,y:0},rotation:0,rotationVelocity:0,zoom:1,zoomVelocity:0,time:Date.now()}),this._lastPinch=this._initialPinch,this.props.onPinchStart&&this.props.onPinchStart(this._initialPinch,t)},onPinchMove:function(t){this._initialTouch&&this.endTouch();var e=t.touches;if(2!==e.length)return this.onPinchEnd(t);var o=s(e[0].identifier===this._initialPinch.touches[0].identifier&&e[1].identifier===this._initialPinch.touches[1].identifier?e:e[1].identifier===this._initialPinch.touches[0].identifier&&e[0].identifier===this._initialPinch.touches[1].identifier?e.reverse():e);o.displacement={x:o.center.x-this._initialPinch.center.x,y:o.center.y-this._initialPinch.center.y},o.time=Date.now();var i=o.time-this._lastPinch.time;o.displacementVelocity={x:(o.displacement.x-this._lastPinch.displacement.x)/i,y:(o.displacement.y-this._lastPinch.displacement.y)/i},o.rotation=o.angle-this._initialPinch.angle,o.rotationVelocity=o.rotation-this._lastPinch.rotation/i,o.zoom=o.distance/this._initialPinch.distance,o.zoomVelocity=(o.zoom-this._lastPinch.zoom)/i,this.props.onPinchMove&&this.props.onPinchMove(o,t),this._lastPinch=o},onPinchEnd:function(t){var e=n({},this._lastPinch);e.time=Date.now(),e.time-this._lastPinch.time>16&&(e.displacementVelocity=0,e.rotationVelocity=0,e.zoomVelocity=0),this.props.onPinchEnd&&this.props.onPinchEnd(e,t),this._initialPinch=this._lastPinch=null},initScrollDetection:function(){this._scrollPos={top:0,left:0},this._scrollParents=[],this._scrollParentPos=[];for(var t=this.getDOMNode();t;)(t.scrollHeight>t.offsetHeight||t.scrollWidth>t.offsetWidth)&&(this._scrollParents.push(t),this._scrollParentPos.push(t.scrollTop+t.scrollLeft),this._scrollPos.top+=t.scrollTop,this._scrollPos.left+=t.scrollLeft),t=t.parentNode},calculateMovement:function(t){return{x:Math.abs(t.clientX-this._initialTouch.clientX),y:Math.abs(t.clientY-this._initialTouch.clientY)}},detectScroll:function(){for(var t={top:0,left:0},e=0;e<this._scrollParents.length;e++)t.top+=this._scrollParents[e].scrollTop,t.left+=this._scrollParents[e].scrollLeft;return!(t.top===this._scrollPos.top&&t.left===this._scrollPos.left)},cleanupScrollDetection:function(){this._scrollParents=void 0,this._scrollPos=void 0},initPressDetection:function(t,e){this.props.onPress&&(this._pressTimeout=setTimeout(function(){this.props.onPress(t),e()}.bind(this),this.props.pressDelay))},cancelPressDetection:function(){clearTimeout(this._pressTimeout)},onTouchMove:function(t){if(this._initialTouch){if(this.processEvent(t),this.detectScroll())return this.endTouch(t);this.props.onTouchMove&&this.props.onTouchMove(t),this._lastTouch=i(t.touches[0]);var e=this.calculateMovement(this._lastTouch);(e.x>this.props.pressMoveThreshold||e.y>this.props.pressMoveThreshold)&&this.cancelPressDetection(),e.x>this.props.moveThreshold||e.y>this.props.moveThreshold?this.state.isActive?this.setState({isActive:!1}):this._activeTimeout&&this.clearActiveTimeout():this.state.isActive||this._activeTimeout||this.setState({isActive:!0})}else this._initialPinch&&2===t.touches.length&&(this.onPinchMove(t),t.preventDefault())},onTouchEnd:function(t){var e=this;if(this._initialTouch){this.processEvent(t);var o,i=this.calculateMovement(this._lastTouch);i.x<=this.props.moveThreshold&&i.y<=this.props.moveThreshold&&this.props.onTap&&(t.preventDefault(),o=function(){var o=e._scrollParents.map(function(t){return t.scrollTop+t.scrollLeft}),i=e._scrollParentPos.some(function(t,e){return t!==o[e]});i||e.props.onTap(t)}),this.endTouch(t,o)}else this._initialPinch&&t.touches.length+t.changedTouches.length===2&&(this.onPinchEnd(t),t.preventDefault())},endTouch:function(t,e){this.cancelPressDetection(),this.clearActiveTimeout(),t&&this.props.onTouchEnd&&this.props.onTouchEnd(t),this._initialTouch=null,this._lastTouch=null,this.state.isActive?this.setState({isActive:!1},e):e&&e()},onMouseDown:function(t){return window._blockMouseEvents?void(window._blockMouseEvents=!1):void(this.props.onMouseDown&&this.props.onMouseDown(t)===!1||(this.processEvent(t),this.initPressDetection(t,this.endMouseEvent),this._mouseDown=!0,this.setState({isActive:!0})))},onMouseMove:function(t){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(t),this.props.onMouseMove&&this.props.onMouseMove(t))},onMouseUp:function(t){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(t),this.props.onMouseUp&&this.props.onMouseUp(t),this.props.onTap&&this.props.onTap(t),this.endMouseEvent())},onMouseOut:function(t){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(t),this.props.onMouseOut&&this.props.onMouseOut(t),this.endMouseEvent())},endMouseEvent:function(){this.cancelPressDetection(),this._mouseDown=!1,this.setState({isActive:!1})},touchStyles:function(){return{WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",cursor:"pointer"}},handlers:function(){return{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut}}},h=c.createClass({displayName:"Tappable",mixins:[r],propTypes:{component:c.PropTypes.any,className:c.PropTypes.string,classBase:c.PropTypes.string,style:c.PropTypes.object,disabled:c.PropTypes.bool},getDefaultProps:function(){return{component:"span",classBase:"Tappable"}},render:function(){var t=this.props,e=t.classBase+(this.state.isActive?"-active":"-inactive");t.className&&(e+=" "+t.className);var o={};n(o,this.touchStyles(),t.style);var i=n({},t,{style:o,className:e,disabled:t.disabled,handlers:this.handlers},this.handlers());return delete i.onTap,delete i.onPress,delete i.onPinchStart,delete i.onPinchMove,delete i.onPinchEnd,delete i.moveThreshold,delete i.pressDelay,delete i.pressMoveThreshold,delete i.preventDefault,delete i.stopPropagation,delete i.component,c.createElement(t.component,i,t.children)}});h.Mixin=r,e.exports=h},{}]},{},[1])(1)});